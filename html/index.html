<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Gestión de presupuesto</title>
    <link rel="stylesheet" href="../css/estilos.css">
    <script type="module" src="../js/gestionPresupuestoWeb.js" defer></script>
</head>
<body>
    <div id="aplicacion">
        <h1>Gestión de presupuesto</h1>

        <form id="formulario-presupuesto">
            <div class="form-control">
                <label for="presupuesto">Presupuesto (€):</label>
                <input type="text" id="presupuesto" name="presupuesto" required>
            </div>
            <button type="submit">Actualizar presupuesto</button>
        </form>

        <div id="presupuesto-actual">
            <p>Tu presupuesto actual es de <span id="valor-presupuesto">0</span> €</p>
        </div>

        <form id="formulario-gasto">
            <div class="form-control">
                <label for="descripcion">Descripción:</label>
                <input type="text" id="descripcion" name="descripcion" required>
            </div>
            <div class="form-control">
                <label for="valor">Valor (€):</label>
                <input type="text" id="valor" name="valor" required>
            </div>
            <div class="form-control">
                <label for="fecha">Fecha:</label>
                <input type="date" id="fecha" name="fecha" required>
            </div>
            <div class="form-control">
                <label for="etiquetas">Etiquetas separadas por comas: </label>
                <input type="text" id="etiquetas" name="etiquetas">
            </div>
            <button type="submit">Añadir gasto</button>
        </form>
        <div id="lista-gastos">
            <h2>Gastos registrados</h2>
            <div id="gastos-container">
                <!-- Los gastos se añadirán aquí dinámicamente -->
            </div>
        </div>
    </div>
    <template id="plantilla-gasto">
        <style>
            .editar-form {
                display: none;
                margin-top: 10px;
            }
            .gasto {
                border: 1px solid #ccc;
                padding: 10px;
                margin-bottom: 10px;
            }
            .accion button {
                margin-right: 5px;
            }
        </style>
        <div class="gasto">
            <p><strong>Descripción:</strong> <span class="gasto-descripcion"></span></p>
            <p><strong>Valor:</strong> <span class="gasto-valor"></span> €</p>
            <p><strong>Fecha:</strong> <span class="gasto-fecha"></span></p>
            <p><strong>Etiquetas:</strong> <span class="gasto-etiquetas"></span></p>
        </div>
        <div class="accion">
            <button class="eliminar-gasto">Eliminar gasto</button>
            <button class="editar-gasto">Editar gasto</button>
        </div>

        <form class="editar-form">
            <input type="text" class="editar-descripcion" placeholder="Nueva descripción" required>
            <input type="text" class="editar-valor" placeholder="Nuevo valor (€)" required>
            <input type="date" class="editar-fecha" required>
            <input type="text" class="editar-etiquetas" placeholder="Nuevas etiquetas separadas por comas">
            <button type="submit" class="guardar-cambios">Guardar cambios</button>
            <button type="button" class="cancelar-edicion">Cancelar</button>
        </form>
    </template>
     <div id="controles-almacenamiento">
        <button id="guardar-gastos">Guardar gastos</button>
        <button id="recuperar">Recuperar almacenamiento</button>
    </div>
</body>
</html>
